const currentYear=(new Date).getFullYear();let yearParagraph=document.querySelector("#year");yearParagraph.innerHTML=""+currentYear;let lastUpdated=document.querySelector("#lastModification");lastUpdated.innerHTML="Last Updated : "+document.lastModified;const mainnav=document.querySelector("nav"),hambutton=document.querySelector("#hamburger"),navbar=document.querySelector("nav");hambutton.addEventListener("click",()=>{mainnav.classList.toggle("show"),hambutton.classList.toggle("show"),navbar.classList.toggle("navigation-hidden")});const modeButton=document.querySelector("#mode"),html=document.querySelector("html");modeButton.addEventListener("click",()=>{modeButton.textContent.includes("üåô")?(html.classList.toggle("dark"),modeButton.textContent="‚òÄÔ∏è"):(html.classList.toggle("dark"),modeButton.textContent="üåô")}),document.addEventListener("DOMContentLoaded",(function(){if(document.getElementById("weather_temp")){let key="3db2edada16f354eb60ea743298dee3d",lat="6.138",lon="1.212";const url=`https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&appid=${key}&units=metric`;async function apiFetch(){try{const response=await fetch(url);if(!response.ok)throw Error(await response.text());{const data=void 0;displayResults(await response.json())}}catch(error){console.log(error)}}function displayResults(data){document.getElementById("weather_temp").textContent=data.main.temp+"¬∞C",document.getElementById("weather_precipitation_probability").textContent=""+data.main.humidity,document.getElementById("weather_code_image").src=`https://openweathermap.org/img/w/${data.weather[0].icon}.png`,document.getElementById("weather_code_image").alt=data.weather[0].description,document.getElementById("weather_code_description").textContent=`${data.weather[0].main} - ${data.weather[0].description}`}apiFetch();const forecast_url=`https://api.openweathermap.org/data/2.5/forecast?lat=${lat}&lon=${lon}&cnt=24&appid=${key}&units=metric`;async function apiFetchForecast(){try{const response=await fetch(forecast_url);if(!response.ok)throw Error(await response.text());{const data=void 0;displayResultsForecast(await response.json())}}catch(error){console.log(error)}}function displayResultsForecast(data){let selection=[data.list[7],data.list[15],data.list[23]];for(const[key,value]of Object.entries(selection))document.getElementById("forecast-"+key)&&(document.querySelector(`#forecast-${key} .forecast-date`).textContent=value.dt_txt.slice(0,10).split("-").reverse().join("/")+" "+value.dt_txt.slice(11,16),document.querySelector(`#forecast-${key} .weather_temp`).textContent=value.main.temp+"¬∞C",document.querySelector(`#forecast-${key} .weather_code_image`).src=`https://openweathermap.org/img/w/${value.weather[0].icon}.png`,document.querySelector(`#forecast-${key} .weather_code_image`).alt=value.weather[0].description,document.querySelector(`#forecast-${key} .weather_code_description`).textContent=""+value.weather[0].description)}apiFetchForecast()}}));const welcMsg=document.querySelector("#welc-msg");if(welcMsg){let lastLogStored=Number(localStorage.getItem("theLastLog"))||0;const currentDate=Date.now();if(0==lastLogStored)welcMsg.textContent="Welcome! Let us know if you have any questions";else{const msToDays=void 0;let daysElapsed=(currentDate-lastLogStored)/846e5;welcMsg.textContent=0!==daysElapsed&&daysElapsed<1?"Back so soon! Awesome!":`You last visited ${daysElapsed.toFixed(0)} days ago `}localStorage.setItem("theLastLog",currentDate)}if(document.querySelector(".discover-page")){const images=document.querySelectorAll(".discover-page img[data-src]");function preloadImage(img){const src=img.getAttribute("data-src");src&&(img.src=src,img.removeAttribute("data-src"),img.classList.toggle("preloaded"))}const imgOptions=void 0,imgObserver=new IntersectionObserver((entries,imgObserver)=>{entries.forEach(entry=>{entry.isIntersecting&&preloadImage(entry.target)})},{threshold:0,rootMargin:"0px 0px -200px 0px"});images.forEach(image=>{imgObserver.observe(image)})}const banner=document.querySelector(".banner-section");if(banner){const today=(new Date).getDay();today>=1&&today<=3&&(banner.style.display="block",document.getElementById("closeBanner").focus()),document.getElementById("closeBanner").addEventListener("click",(function(){banner.style.display="none"}))}